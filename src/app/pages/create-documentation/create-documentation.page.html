<ion-content>
  <app-header [hasBackground]="true"></app-header>

  <!-- Header that shows the steps of the pitch creation process -->
  <app-pitch-create-steps
    [saveMethod]="this.save"
    [binder]="this"
    [step]="7"
    [draftProgress]="this.draft?.draft_progress"
  ></app-pitch-create-steps>

  <div class="page-content content-wrapper">
    <div class="header-text-style">Documentation</div>
    <div class="paragraph-text-style">
      Uploading all the necessary documentation required for company
      verification on our crowdfunding platform.

      <br />
      <i
        ><b
          >Remember: A background-check will be conducted to ensure information
          provided is honest and truthful.</b
        ></i
      >
    </div>

    <!-- Pitch name and brief description -->
    <div class="field-section">
      <div class="field-section-description">
        <div class="field-name">
          Company Registration Documents <br />
          <div class="field-status">(REQUIRED)</div>
        </div>
        <div class="paragraph-text-style field-description">
          <ion-icon name="information-circle"></ion-icon> Documents from the
          CIPC, obtained after registration that clearly shows the entity name
          and registration number included with tax certificate from SARS.

          <br />
          <br />
          <i
            ><b
              >Remember: This is meant for verification purposes, all relevent
              directors must must be clearly visible in the documentations.</b
            ></i
          >
        </div>
      </div>
      <div class="field-section-input identity-documents">
        <!-- REGISTRATION CERTIFICATION -->
        <div
          class="identity-document identity-document-selector"
          [attr.data-is-uploaded]="this.company_documentations?.documents?.at(0)?.uploaded"
        >
          <div class="delete-button" (click)="this.removeSelectedFile('0')">
            <svg
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
            >
              <path
                d="M16 2v4h6v2h-2v14H4V8H2V6h6V2h8zm-2 2h-4v2h4V4zm0 4H6v12h12V8h-4zm-5 2h2v8H9v-8zm6 0h-2v8h2v-8z"
              />
            </svg>
          </div>
          <div
            class="wrapper"
            (click)="this.selectFile('company_documentation', '0')"
          >
            <div class="card-icon">
              <svg
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
              >
                <path
                  d="M5 2H3v20h2v-2h2v2h2v-2h2v2h2v-2h2v2h2v-2h2v2h2V2h-2v2h-2V2h-2v2h-2V2h-2v2H9V2H7v2H5V2zm2 2h2v2h2V4h2v2h2V4h2v2h2v12h-2v2h-2v-2h-2v2h-2v-2H9v2H7v-2H5V6h2V4zm0 4h10v2H7V8zm10 4H7v2h10v-2z"
                  fill="currentColor"
                />
              </svg>
            </div>
            <div class="card-name">
              {{ this.company_documentations?.documents?.at(0) ?
              this.company_documentations?.documents?.at(0)?.name : "Add Proof\
              of Company Registration" }}
            </div>
            <div
              [class]="'card-description ' + (this.company_documentations?.documents?.at(0)?.uploaded === false ? 'text-loader' : '')"
            >
              {{ this.company_documentations?.documents?.at(0)?.uploaded == true
              ? "Successfully uploaded" :
              (this.company_documentations?.documents?.at(0) ? 'Uploading' :
              'Selected file should not be morethan 100MB.') }}
            </div>
          </div>
        </div>

        <!-- PROOF OF PHYSICAL ADDRESS -->
        <div
          class="identity-document identity-document-selector"
          [attr.data-is-uploaded]="this.company_documentations?.documents?.at(1)?.uploaded"
        >
          <div class="delete-button" (click)="this.removeSelectedFile('1')">
            <svg
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
            >
              <path
                d="M16 2v4h6v2h-2v14H4V8H2V6h6V2h8zm-2 2h-4v2h4V4zm0 4H6v12h12V8h-4zm-5 2h2v8H9v-8zm6 0h-2v8h2v-8z"
              />
            </svg>
          </div>
          <div
            class="wrapper"
            (click)="this.selectFile('company_documentation', '1')"
          >
            <div class="card-icon">
              <svg
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
              >
                <path
                  d="M7 2h10v2H7V2zM5 6V4h2v2H5zm0 8H3V6h2v8zm2 2H5v-2h2v2zm2 2H7v-2h2v2zm2 2H9v-2h2v2zm2 0v2h-2v-2h2zm2-2v2h-2v-2h2zm2-2v2h-2v-2h2zm2-2v2h-2v-2h2zm0-8h2v8h-2V6zm0 0V4h-2v2h2zm-5 2h-4v4h4V8z"
                  fill="currentColor"
                />
              </svg>
            </div>
            <div class="card-name">
              {{ this.company_documentations?.documents?.at(1) ?
              this.company_documentations?.documents?.at(1)?.name : "Add Proof
              of Address" }}
            </div>
            <div
              [class]="'card-description ' + (this.company_documentations?.documents?.at(1)?.uploaded === false ? 'text-loader' : '')"
            >
              {{ this.company_documentations?.documents?.at(1)?.uploaded == true
              ? "Successfully uploaded" :
              (this.company_documentations?.documents?.at(1) ? 'Uploading' :
              'Selected file should not be morethan 100MB.') }}
            </div>
          </div>
        </div>

        <!-- PROOF OF BANK DOCUMENT -->
        <div
          class="identity-document identity-document-selector"
          [attr.data-is-uploaded]="this.company_documentations?.documents?.at(2)?.uploaded"
        >
          <div class="delete-button" (click)="this.removeSelectedFile('2')">
            <svg
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
            >
              <path
                d="M16 2v4h6v2h-2v14H4V8H2V6h6V2h8zm-2 2h-4v2h4V4zm0 4H6v12h12V8h-4zm-5 2h2v8H9v-8zm6 0h-2v8h2v-8z"
              />
            </svg>
          </div>
          <div
            class="wrapper"
            (click)="this.selectFile('company_documentation', '2')"
          >
            <div class="card-icon">
              <svg
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
              >
                <path
                  d="M6 2h12v2H6V2zM4 6V4h2v2H4zm0 12V6H2v12h2zm2 2v-2H4v2h2zm12 0v2H6v-2h12zm2-2v2h-2v-2h2zm0-12h2v12h-2V6zm0 0V4h-2v2h2zm-9-1h2v2h3v2h-6v2h6v6h-3v2h-2v-2H8v-2h6v-2H8V7h3V5z"
                  fill="currentColor"
                />
              </svg>
            </div>
            <div class="card-name">
              {{ this.company_documentations?.documents?.at(2) ?
              this.company_documentations?.documents?.at(2)?.name : "Add Proof
              of Bank" }}
            </div>
            <div
              [class]="'card-description ' + (this.company_documentations?.documents?.at(2)?.uploaded === false ? 'text-loader' : '')"
            >
              {{ this.company_documentations?.documents?.at(2)?.uploaded == true
              ? "Successfully uploaded" :
              (this.company_documentations?.documents?.at(2) ? 'Uploading' :
              'Selected file should not be morethan 100MB.') }}
            </div>
          </div>
        </div>

        <!-- REGISTRATION CERTIFICATION -->
        <div
          class="identity-document identity-document-selector"
          [attr.data-is-uploaded]="this.company_documentations?.documents?.at(3)?.uploaded"
        >
          <div class="delete-button" (click)="this.removeSelectedFile('3')">
            <svg
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
            >
              <path
                d="M16 2v4h6v2h-2v14H4V8H2V6h6V2h8zm-2 2h-4v2h4V4zm0 4H6v12h12V8h-4zm-5 2h2v8H9v-8zm6 0h-2v8h2v-8z"
              />
            </svg>
          </div>
          <div
            class="wrapper"
            (click)="this.selectFile('company_documentation', '3')"
          >
            <div class="card-icon">
              <svg
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
              >
                <path
                  d="M20 4h-2v2h-2v2h-2v2h-2v2h-2v2H8v2H6v2H4v2h2v-2h2v-2h2v-2h2v-2h2v-2h2V8h2V6h2V4zm-4 10h4v6h-6v-6h2zm2 4v-2h-2v2h2zM6 4h4v6H4V4h2zm2 4V6H6v2h2z"
                  fill="currentColor"
                />
              </svg>
            </div>
            <div class="card-name">
              {{ this.company_documentations?.documents?.at(3) ?
              this.company_documentations?.documents?.at(3)?.name : "Add Proof
              of Tax" }}
            </div>
            <div
              [class]="'card-description ' + (this.company_documentations?.documents?.at(3)?.uploaded === false ? 'text-loader' : '')"
            >
              {{ this.company_documentations?.documents?.at(3)?.uploaded == true
              ? "Successfully uploaded" :
              (this.company_documentations?.documents?.at(3) ? 'Uploading' :
              'Selected file should not be morethan 100MB.') }}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- IDENTICATION DOCUMENTATION TO VERIFIED. -->
    <div class="field-section">
      <div class="field-section-description">
        <div class="field-name">
          Director Identification Documentation <br />
          <div class="field-status">(REQUIRED)</div>
        </div>
        <div class="paragraph-text-style field-description">
          Documents to verify the identity of the director to ensure members
          with access to funds donated have been verified and can be identified.
          Members to be verified in this section must be enlisted in the Company
          Registration Certificate.

          <br />
          <br />
          <i
            ><b
              >Keep note: These documents will be verified with varifiable
              sources to ensure that documents uploaded and infomation provided
              is valid and true.</b
            ></i
          >
        </div>
      </div>
      <div class="field-section-input">
        <input type="file" hidden #FileSelector />
        <div class="identity-documents">
          <div
            class="identity-document"
            *ngFor="let document of this.director_documentations.documents"
          >
            <div
              class="delete-button"
              (click)="this.removeSelectedFile(document.id, false)"
            >
              <svg
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
              >
                <path
                  d="M16 2v4h6v2h-2v14H4V8H2V6h6V2h8zm-2 2h-4v2h4V4zm0 4H6v12h12V8h-4zm-5 2h2v8H9v-8zm6 0h-2v8h2v-8z"
                />
              </svg>
            </div>
            <div
              class="wrapper"
              (click)="this.selectFile('directors_documentation', document.id)"
            >
              <div class="card-icon">
                <svg
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M15 2H9v2H7v6h2V4h6V2zm0 8H9v2h6v-2zm0-6h2v6h-2V4zM4 16h2v-2h12v2H6v4h12v-4h2v6H4v-6z"
                    fill="currentColor"
                  />
                </svg>
              </div>
              <div class="card-name">{{document.name}}</div>
              <div
                [class]="'card-description ' + (document.uploaded ? '' : 'text-loader')"
              >
                {{ document.uploaded == true ? "Successfully uploaded" :
                "Uploading" }}
              </div>
            </div>

            <div class="progress">
              <div
                class="current-progress"
                [style]="'width: ' + document.progress + '%'"
              ></div>
            </div>
          </div>

          <div class="identity-document identity-document-selector">
            <div
              class="wrapper"
              (click)="this.selectFile('directors_documentation')"
            >
              <div class="card-icon">
                <svg
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M2 3h22v11h-2V5H2v14h12v2H0V3h2zm8 4H6v4h4V7zm-6 6h8v4H4v-4zm16-6h-6v2h6V7zm-6 4h6v2h-6v-2zm3 4h-3v2h3v-2zm4 6v3h-2v-3h-3v-2h3v-3h2v3h3v2h-3z"
                    fill="currentColor"
                  />
                </svg>
              </div>
              <div class="card-name">Add an Identity Document</div>
              <div class="card-description">
                Selected file should not be morethan 100MB.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <app-create-bottom-footer
      [key]="this.draft_key"
      [progress]="this.draft?.draft_progress"
      [save]="this.save"
      [isLastStage]="true"
      [binder]="this"
    ></app-create-bottom-footer>
  </div>
</ion-content>
